{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pjy41\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\Park\\\\Fall 2021\\\\kprogrammer\\\\Kprogrammers\\\\client\\\\src\\\\components\\\\pages\\\\SignUpForm.js\",\n    _s = $RefreshSig$();\n\nimport styled from \"styled-components\";\nimport bgImg from '../../Images/bg.png';\nimport React, { useState, useEffect } from 'react';\nimport validation from \"./validation\";\nimport Form from './Form';\nimport '../../App.css';\nimport submitForm from './Form';\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  firstname: '',\n  lastname: '',\n  email: '',\n  password: '',\n  major: \"\"\n};\n\nconst SignUpForm = _ref => {\n  _s();\n\n  let {\n    submitForm\n  } = _ref;\n  const [formData, setFormData] = useState(initialState);\n  const history = useHistory();\n  const [values, setValues] = useState({\n    lastname: \"\",\n    firstname: \"\",\n    email: \"\",\n    password: \"\",\n    major: \"\"\n  });\n  const [errors, setErrors] = useState({});\n  const [dataIsCorrect, setDataIsCorrect] = useState(false); // const handleChange = (event) =>{\n  //     setValues({\n  //         ...values,            \n  //         [event.target.name]: event.target.value            \n  //     })                \n  //     console.log({values})\n  // };\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setValues({ ...values,\n      [name]: value\n    });\n    console.log({\n      values\n    });\n  };\n\n  const submit = event => {\n    event.preventDefault();\n    const payload = {\n      lastname: values.lastname,\n      firstname: values.firstname,\n      email: values.email,\n      password: values.password,\n      major: values.major\n    };\n    axios({\n      url: '/api/save',\n      method: 'POST',\n      data: payload\n    }).then(() => {\n      console.log('Data has been sent to the server');\n    }).catch(() => {\n      console.log('Internal server error');\n    });\n    ;\n  };\n\n  const handleFormSubmit = event => {\n    event.preventDefault();\n    setErrors(validation(values));\n    setDataIsCorrect(true);\n    const {\n      lastname,\n      firstname,\n      email,\n      password,\n      major\n    } = values;\n\n    if (lastname && firstname && email && password && major) {\n      //alert(\"registered successfully\")\n      axios.post(\"/api/save\", values).then(res => {\n        console.log(res.data);\n        alert(res.data.msg);\n\n        if (res.data.msg !== \"User already registered\") {\n          history.push('/sign-up');\n        }\n      });\n    } else {\n      alert(\"invalid input\");\n    }\n  };\n\n  useEffect(() => {\n    if (Object.keys(errors).length === 0 && dataIsCorrect) {// submitForm(true);\n    }\n  }, [errors]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sign_up_container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sign_up-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"sign-up_title\",\n          children: \"Welcome to KSEA Chapter!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"sign-up_title\",\n          children: \"Create your new account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form-wrapper\",\n        onSubmit: submit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sign-up_name\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"sign_up_label\",\n            children: \"Last Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"sign_up_input\",\n            type: \"text\",\n            name: \"lastname\",\n            value: values.lastname,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 21\n          }, this), errors.lastname && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error\",\n            children: errors.lastname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sign-up_name\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"sign_up_label\",\n            children: \"First Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"sign_up_input\",\n            type: \"text\",\n            name: \"firstname\",\n            value: values.firstname,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 21\n          }, this), errors.firstname && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error\",\n            children: errors.firstname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sign-up_email\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"sign_up_label\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"sign_up_input\",\n            type: \"email\",\n            name: \"email\",\n            value: values.email,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 21\n          }, this), errors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error\",\n            children: errors.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 38\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sign-up_email\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"sign_up_label\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"sign_up_input\",\n            type: \"password\",\n            name: \"password\",\n            value: values.password,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 21\n          }, this), errors.password && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error\",\n            children: errors.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sign-up_name\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"sign_up_label\",\n            children: \"Major\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"sign_up_input\",\n            type: \"text\",\n            name: \"major\",\n            value: values.major,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 21\n          }, this), errors.major && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error\",\n            children: errors.major\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 38\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"submit\",\n            onClick: handleFormSubmit,\n            children: \"Sign up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 7\n  }, this);\n};\n\n_s(SignUpForm, \"QRaKAvEjNRpvkpWNkFj+bCHSbv8=\", false, function () {\n  return [useHistory];\n});\n\n_c = SignUpForm;\nexport default SignUpForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUpForm\");","map":{"version":3,"sources":["C:/Users/pjy41/OneDrive/바탕 화면/Park/Fall 2021/kprogrammer/Kprogrammers/client/src/components/pages/SignUpForm.js"],"names":["styled","bgImg","React","useState","useEffect","validation","Form","submitForm","axios","useHistory","initialState","firstname","lastname","email","password","major","SignUpForm","formData","setFormData","history","values","setValues","errors","setErrors","dataIsCorrect","setDataIsCorrect","handleChange","event","name","value","target","console","log","submit","preventDefault","payload","url","method","data","then","catch","handleFormSubmit","post","res","alert","msg","push","Object","keys","length"],"mappings":"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","sourcesContent":["import styled from \"styled-components\";\r\nimport bgImg from '../../Images/bg.png';\r\nimport React, {useState, useEffect} from 'react';\r\nimport validation from \"./validation\";\r\nimport Form from './Form';\r\nimport '../../App.css';\r\nimport submitForm from './Form';\r\nimport axios from 'axios';\r\nimport {useHistory} from \"react-router-dom\"\r\n\r\nconst initialState = {firstname:'', lastname: '', email: '', password: '', major: \"\"};\r\n\r\nconst SignUpForm = ({ submitForm }) => {\r\n\r\n    const [formData, setFormData] = useState(initialState);\r\n    const history = useHistory()\r\n    const [values, setValues] = useState({\r\n        lastname: \"\",\r\n        firstname: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        major: \"\",\r\n    });\r\n\r\n    const [errors, setErrors] = useState({\r\n\r\n    });\r\n\r\n    const [dataIsCorrect, setDataIsCorrect] = useState(false);\r\n\r\n    // const handleChange = (event) =>{\r\n    //     setValues({\r\n    //         ...values,            \r\n    //         [event.target.name]: event.target.value            \r\n    //     })                \r\n    //     console.log({values})\r\n    // };\r\n    const handleChange = (event) =>{\r\n        const {name, value} = event.target\r\n        setValues({\r\n            ...values,            \r\n            [name]: value            \r\n        })                \r\n        console.log({values})\r\n    };\r\n    const submit = (event) => {\r\n        event.preventDefault();\r\n        const payload = {            \r\n            lastname: values.lastname,\r\n            firstname: values.firstname,\r\n            email: values.email,\r\n            password: values.password,\r\n            major: values.major\r\n        };\r\n\r\n        axios({\r\n            url: '/api/save',\r\n            method: 'POST',\r\n            data: payload\r\n        })\r\n            .then(() => {\r\n                console.log('Data has been sent to the server');\r\n            })\r\n            .catch(() => {\r\n                console.log('Internal server error');\r\n            });;\r\n    };\r\n\r\n\r\n\r\n    const handleFormSubmit = (event)=>{\r\n        event.preventDefault();\r\n        setErrors(validation(values));\r\n        setDataIsCorrect(true);\r\n        const {lastname,firstname, email, password, major} = values\r\n        if(lastname && firstname && email && password && major){            \r\n            //alert(\"registered successfully\")\r\n            \r\n            axios.post(\"/api/save\", values)\r\n                .then(res => {\r\n                    console.log(res.data)\r\n                    alert(res.data.msg)\r\n                    if (res.data.msg !== \"User already registered\"){\r\n                        history.push('/sign-up')                \r\n                    }\r\n                })\r\n        \r\n        }\r\n        \r\n        else{\r\n            alert(\"invalid input\")\r\n        }\r\n    };\r\n\r\n    useEffect(() =>{\r\n        if (Object.keys(errors).length === 0 && dataIsCorrect){\r\n            // submitForm(true);\r\n        }\r\n\r\n    }, [errors]);\r\n\r\n    return (\r\n      <div className = \"sign_up_container\">\r\n          <div className = \"sign_up-wrapper\">\r\n            <div>\r\n            <h2 className = \"sign-up_title\">Welcome to KSEA Chapter!</h2>                \r\n                <h2 className = \"sign-up_title\">Create your new account</h2>                \r\n            </div>\r\n            <form className=\"form-wrapper\" onSubmit= {submit}>                \r\n                <div className = \"sign-up_name\">\r\n                    <label className =\"sign_up_label\">Last Name</label>\r\n                    <input className = \"sign_up_input\" type=\"text\" name=\"lastname\" value={values.lastname} onChange={handleChange}/>\r\n                    {errors.lastname && <p className=\"error\">{errors.lastname}</p>}\r\n                </div>\r\n                <div className = \"sign-up_name\">\r\n                    <label className =\"sign_up_label\">First Name</label>\r\n                    <input className = \"sign_up_input\" type=\"text\" name=\"firstname\" value={values.firstname} onChange={handleChange}/>\r\n                    {errors.firstname && <p className=\"error\">{errors.firstname}</p>}\r\n                </div>\r\n                <div className = \"sign-up_email\">\r\n                    <label className =\"sign_up_label\">Email</label>\r\n                    <input className = \"sign_up_input\" type=\"email\" name=\"email\" value={values.email} onChange={handleChange}/>\r\n                    {errors.email && <p className=\"error\">{errors.email}</p>}\r\n                </div>\r\n                <div className = \"sign-up_email\">\r\n                    <label className =\"sign_up_label\">Password</label>\r\n                    <input className = \"sign_up_input\" type=\"password\" name=\"password\" value={values.password} onChange={handleChange}/>\r\n                    {errors.password && <p className=\"error\">{errors.password}</p>}\r\n                </div>\r\n                <div className = \"sign-up_name\">\r\n                    <label className =\"sign_up_label\">Major</label>\r\n                    <input className = \"sign_up_input\" type=\"text\" name=\"major\" value={values.major} onChange={handleChange}/>\r\n                    {errors.major && <p className=\"error\">{errors.major}</p>}\r\n                </div>\r\n                <div>\r\n                    <button className =\"submit\" onClick={handleFormSubmit}>Sign up</button>                    \r\n                    {/* <button className =\"submit\">Submit</button> */}\r\n                </div>\r\n          </form>\r\n          </div>\r\n      </div>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default SignUpForm\r\n"]},"metadata":{},"sourceType":"module"}